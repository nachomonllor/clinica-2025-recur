

<section class="ingresos-page" *ngIf="isAdmin; else noAdmin">
  <header class="topbar">
    <button class="btn ghost" routerLink="/dashboard" aria-label="Volver al Dashboard">
      <span class="icon icon-back" aria-hidden="true"></span>
      <span>Volver al Dashboard</span>
    </button>

    <h1 class="title">Registro de Ingresos</h1>

    <ng-container *ngIf="(logs$ | async) as logs">
      <button class="btn success" (click)="exportarExcel(logs)">
        Exportar Excel
      </button>
    </ng-container>
  </header>

  <main class="table-wrap">
    <div class="table">
      <!-- Cabecera -->
      <div class="row head">
        <div class="col user">
          <span class="icon icon-user" aria-hidden="true"></span>
          <span>Usuario</span>
        </div>
        <div class="col date">
          <span class="icon icon-calendar" aria-hidden="true"></span>
          <span>Fecha y Hora</span>
        </div>
      </div>

      <!-- Filas -->
      <ng-container *ngIf="(logs$ | async) as logs; else loading">
        <div class="row"
             *ngFor="let log of logs; trackBy: trackByIndex">
          <div class="col user">
            <span class="badge icon-mail" aria-hidden="true"></span>
            <span class="email" [title]="log.email">{{ log.email }}</span>
          </div>
          <div class="col date">
            <span class="dot" aria-hidden="true"></span>
            <span class="when">{{ formatDate(log.createdAt) }}</span>
          </div>
        </div>

        <div class="empty" *ngIf="!logs.length">
          No hay ingresos para mostrar.
        </div>
      </ng-container>
    </div>
  </main>
</section>

<ng-template #loading>
  <div class="loading">Cargando registros…</div>
</ng-template>

<ng-template #noAdmin>
  <section class="ingresos-page">
    <div class="not-allowed">
      No tenés permisos para ver este recurso.
    </div>
  </section>
</ng-template>


<!-- 

<div class="log-page">
  <div class="content">
     Barra superior 
    <div class="topbar">
      <button class="btn back" type="button" (click)="volverAlDashboard()">
        <span class="ico-arrow" aria-hidden="true"></span>
        <span>Volver al Dashboard</span>
      </button>

      <ng-container *ngIf="logs$ | async as logs">
        <button class="btn excel" type="button" (click)="exportarExcel(logs)">
          <span class="ico-excel" aria-hidden="true"></span>
          <span>Exportar Excel</span>
        </button>
      </ng-container>
    </div>

   Título 
    <h1 class="page-title">Registro de Ingresos</h1>

     Cabecera de la lista 
    <div class="table-head">
      <div class="th th-user">
        <svg viewBox="0 0 24 24" class="svg-ico" aria-hidden="true">
          <circle cx="12" cy="8" r="4"></circle>
          <path d="M4 20c0-4 4-6 8-6s8 2 8 6" fill="none" stroke-width="2"></path>
        </svg>
        <span>Usuario</span>
      </div>
      <div class="th th-date">
        <svg viewBox="0 0 24 24" class="svg-ico" aria-hidden="true">
          <rect x="3" y="5" width="18" height="16" rx="2" ry="2" fill="none" stroke-width="2"></rect>
          <path d="M16 3v4M8 3v4M3 11h18" fill="none" stroke-width="2"></path>
        </svg>
        <span>Fecha y Hora</span>
      </div>
    </div>

   Filas 
    <ng-container *ngIf="logs$ | async as logs">
      <div
        class="row"
        *ngFor="let log of logs; index as i; trackBy: trackByIdx"
        [attr.data-index]="i"
      >
        <div class="cell user">
          <svg viewBox="0 0 24 24" class="svg-ico mail" aria-hidden="true">
            <path d="M3 6h18v12H3z" fill="none" stroke-width="2"></path>
            <path d="M3 7l9 6 9-6" fill="none" stroke-width="2"></path>
          </svg>
          <span class="email" [title]="log.email">{{ log.email }}</span>
        </div>

        <div class="cell date">
          <span class="dot" aria-hidden="true"></span>
          <span>{{ log.createdAt | date: 'dd/MM/yyyy, hh:mm:ss a' }}</span>
        </div>
      </div>

       Empty state 
      <div class="empty" *ngIf="!logs.length">
        No hay ingresos registrados.
      </div>
    </ng-container>
  </div>
</div>
  -->
