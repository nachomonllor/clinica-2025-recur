<div class="historia-container">
  <h2>Historia Clínica</h2>

  <form [formGroup]="form" (ngSubmit)="guardar()" class="card">
    <div class="row">
      <div class="field">
        <label>Altura:</label>
        <input type="number" formControlName="altura" step="0.01" /> m
      </div>

      <div class="field">
        <label>Peso:</label>
        <input type="number" formControlName="peso" /> kg
      </div>

      <div class="field">
        <label>Presión:</label>
        <input type="text" formControlName="presion" placeholder="120/80" />
      </div>
    </div>

    <div class="row">
      <div class="field">
        <label>Temperatura:</label>
        <input type="number" formControlName="temperatura" step="0.1" /> °C
      </div>
    </div>

    <h3>Más Datos</h3>
    <div class="row">
      <div class="field">
        <label>Fiebre:</label>
        <select formControlName="fiebre">
          <option [value]="true">Sí</option>
          <option [value]="false">No</option>
        </select>
      </div>

      <div class="field">
        <label>Infartos:</label>
        <input type="number" formControlName="infartos" min="0" />
      </div>
    </div>

    <div class="buttons">
      <button type="button" class="btn" (click)="verResenia()">Ver Reseña</button>
      <button type="button" class="btn" (click)="calificarAtencion()">Calificar Atención</button>
      <button type="button" class="btn" (click)="completarEncuesta()">Completar Encuesta</button>
      <button type="submit" class="btn-primary">Guardar</button>
    </div>
  </form>
</div>



<!-- <mat-card class="historia-card">
  <mat-card-header>
    <mat-card-title>Historia Clínica</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="historiaForm" (ngSubmit)="onSubmit()">

      Datos fijos 
      <div class="section">
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Altura (cm)</mat-label>
          <input matInput type="number" formControlName="altura" placeholder="Ej: 175" />
          <mat-error *ngIf="historiaForm.get('altura')?.hasError('required')">
            La altura es obligatoria.
          </mat-error>
          <mat-error *ngIf="historiaForm.get('altura')?.hasError('min')">
            Debe ser un valor positivo.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Peso (kg)</mat-label>
          <input matInput type="number" formControlName="peso" placeholder="Ej: 70" />
          <mat-error *ngIf="historiaForm.get('peso')?.hasError('required')">
            El peso es obligatorio.
          </mat-error>
          <mat-error *ngIf="historiaForm.get('peso')?.hasError('min')">
            Debe ser un valor positivo.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Temperatura (°C)</mat-label>
          <input matInput type="number" formControlName="temperatura" placeholder="Ej: 36.5" />
          <mat-error *ngIf="historiaForm.get('temperatura')?.hasError('required')">
            La temperatura es obligatoria.
          </mat-error>
          <mat-error *ngIf="historiaForm.get('temperatura')?.hasError('min')">
            Debe ser un valor positivo.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Presión arterial</mat-label>
          <input matInput type="text" formControlName="presion" placeholder="Ej: 120/80" />
          <mat-error *ngIf="historiaForm.get('presion')?.hasError('required')">
            La presión es obligatoria.
          </mat-error>
        </mat-form-field>
      </div>

      Datos dinámicos existentes 
      <div formArrayName="datosDinamicos" class="section">
        <h3>Datos Dinámicos</h3>
        <button
          mat-mini-fab
          color="primary"
          type="button"
          (click)="addDatoDinamico()"
          [disabled]="datosDinamicos.length >= 3"
        >
          <mat-icon>add</mat-icon>
        </button>

        <div
          *ngFor="let dato of datosDinamicos.controls; let i = index"
          [formGroupName]="i"
          class="dato-dinamico"
        >
          <mat-form-field appearance="fill" class="flex-item">
            <mat-label>Clave</mat-label>
            <input matInput formControlName="clave" placeholder="Clave" />
          </mat-form-field>
          <mat-form-field appearance="fill" class="flex-item">
            <mat-label>Valor</mat-label>
            <input matInput formControlName="valor" placeholder="Valor" />
          </mat-form-field>
          <button mat-icon-button color="warn" type="button" (click)="removeDatoDinamico(i)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>

       Nuevos datos dinámicos 
      <div formGroupName="nuevosDatos" class="section">
        <h3>Nuevos Datos</h3>

        <div class="flex-center">
          <mat-slider formControlName="rango" min="0" max="100" tickInterval="10"></mat-slider>
          <span>{{ historiaForm.get('nuevosDatos.rango')?.value }}</span>
        </div>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Valor numérico</mat-label>
          <input matInput type="number" formControlName="valorNumerico" placeholder="Ej: 42" />
        </mat-form-field>

        <div class="flex-center">
          <mat-slide-toggle formControlName="switchSiNo">Sí / No</mat-slide-toggle>
          <span>{{ historiaForm.get('nuevosDatos.switchSiNo')?.value ? 'Sí' : 'No' }}</span>
        </div>
      </div>

       Botón de envío 
      <div class="actions">
        <button mat-raised-button color="primary" type="submit" [disabled]="historiaForm.invalid">
          Guardar Historia Clinica
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>



 -->
