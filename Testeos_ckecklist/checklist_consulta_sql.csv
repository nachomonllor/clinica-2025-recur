Sprint;Requerimiento;Tabla Principal;Consulta SQL de Verificación (Supabase)
1;Registro de Pacientes (con 2 fotos y Obra Social);usuarios;SELECT count(*) as total_pacientes FROM esquema_clinica.usuarios WHERE perfil = 'PACIENTE' AND imagen_perfil_2 IS NOT NULL AND obra_social IS NOT NULL;
1;Registro de Especialistas (Requiere aprobación);usuarios;SELECT email, esta_aprobado FROM esquema_clinica.usuarios WHERE perfil = 'ESPECIALISTA';
1;Usuario Administrador creado;usuarios;SELECT * FROM esquema_clinica.usuarios WHERE perfil = 'ADMIN';
1;Relación Especialista - Especialidad;usuario_especialidad;SELECT u.apellido, e.nombre FROM esquema_clinica.usuario_especialidad ue JOIN esquema_clinica.usuarios u ON ue.usuario_id = u.id JOIN esquema_clinica.especialidades e ON ue.especialidad_id = e.id;
2;Configuración de Captcha (Activado/Desactivado);configuracion_sistema;SELECT * FROM esquema_clinica.configuracion_sistema WHERE clave = 'captcha_habilitado';
2;Turnos: Disponibilidad Horaria Cargada;horarios_especialista;SELECT count(*) as horarios_cargados FROM esquema_clinica.horarios_especialista;
2;Turnos: Estado 'CANCELADO' con comentario;turnos;SELECT motivo, comentario FROM esquema_clinica.turnos t JOIN esquema_clinica.estados_turno et ON t.estado_turno_id = et.id WHERE et.codigo = 'CANCELADO' AND t.comentario IS NOT NULL;
2;Turnos: Reseña/Comentario del Especialista;turnos;SELECT comentario FROM esquema_clinica.turnos WHERE comentario IS NOT NULL;
3;Historia Clínica: Datos Fijos (Altura, Peso, etc.);historia_clinica;SELECT altura, peso, temperatura, presion FROM esquema_clinica.historia_clinica WHERE altura IS NOT NULL;
3;Historia Clínica: Datos Dinámicos (Clave/Valor);historia_datos_dinamicos;SELECT * FROM esquema_clinica.historia_datos_dinamicos WHERE clave IS NOT NULL AND valor_texto IS NOT NULL;
4;Log de Ingresos (Usuarios y Fechas);log_ingresos;SELECT usuario_id, fecha_hora FROM esquema_clinica.log_ingresos ORDER BY fecha_hora DESC;
5;HC: Dato Dinámico Rango (0-100);historia_datos_dinamicos;SELECT * FROM esquema_clinica.historia_datos_dinamicos WHERE tipo_control = 'RANGO_0_100';
5;HC: Dato Dinámico Numérico;historia_datos_dinamicos;SELECT * FROM esquema_clinica.historia_datos_dinamicos WHERE tipo_control = 'NUMERICO' AND valor_numerico IS NOT NULL;
5;HC: Dato Dinámico Switch (Si/No);historia_datos_dinamicos;SELECT * FROM esquema_clinica.historia_datos_dinamicos WHERE tipo_control = 'SI_NO' AND valor_boolean IS NOT NULL;
6;Preferencia de Idioma del Usuario;usuarios;SELECT email, idioma_preferido FROM esquema_clinica.usuarios WHERE idioma_preferido IN ('en', 'pt');
6;Encuesta de Atención (Puntuación/Estrellas);encuestas_atencion;SELECT estrellas, comentario FROM esquema_clinica.encuestas_atencion WHERE estrellas IS NOT NULL;